\documentclass[11pt]{article}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{multicol}

\newcommand{\mb}{\mathbf}

\title{\bf Control of Underactuated Vehicular Traffic}
\author{Stanislav Nikolov}

\begin{document}
\maketitle

\begin{multicols}{2}

% Misc stuff to talk about
% Traffic can actually smooth out by itself depending on the parameter governing the dynamics. Can show this analytically for linear dynamics, and demonstrate it for nonlinear dynamics.

% describe / motivate your system
\section{Introduction}
A recent study by the U.S. Treasury Department found that traffic in the United States wasted 1.9 billion gallons of gas. Other studies have suggested that peoplein the United States spent as many as 5 billion hours in traffic, resulting in as much as \$100 billion in lost productivity.  spend and 5 billion hours of productivity in the past year.

Traffic jams form for a variety of reasons. Disturbances, such as traffic accidents, or road bottlenecks cause vehicles to slow down, causing the vehicles behind them to slow down and eventually leading to a wave of traffic traveling upstream of the disturbance. However, traffic jams are often observed to form spontaneously without any apparent disturbance. Even if a platoon of vehicles starts out equally spaced with all cars moving at the same velocity, it is impossible for all vehicles to maintain the exact same speed. In an ideal world, the vehicles can maintain this configuration indefinitely, but in the real world, vehicles may stray from their desired velocity, causing a disturbance in the uniform velocities and spacings. Under certain conditions, this disturbance becomes amplified and leads to a self-sustaining traffic jam. % What kinds of conditions?

In order to talk about stabilizing vehicular traffic, we first present an idealized model of traffic flow. We model traffic as $n$ vehicles driving counterclockwise on a single lane circular road. A ciruclar road may be thought of as an idealization of a beltway that encircles a city. Following \cite{Peng}, we define the following relevant variables:

\begin{itemize}
\item $x_i$ - the position of vehicle $i$.
\item $v_i$ - the velocity of vehicle $i$.
\item $a_i$ - the acceleration of vehicle $i$.
\item $u_i$ - the control input to vehicle $i$.
\item $D_i$ - the distance $x_{i-1} - x_i$ in front of vehicle $i$.
\end{itemize}

As in \cite{Peng}, we consider vehicles with double-integrator dynamcis. In idealized double-integrator dynamics, the acceleration $\ddot{x}_i$ of the $i$th vehicle instantaneously takes on the value of the desired acceleration given by the control input $u_i$, resulting in the following dynamics:
\[\ddot{x}_i = u_i\]
%\[\dot{\mb x}_i = \left[\begin{array}{c} \dot{x}_i\\ \dot{v}_i \end{array} \right] = \left[\begin{array}{c} v_i\\ u_i \end{array} \right] =  \left[\begin{array}{cc} 0 & 1\\ 0 & 0 \end{array} \right] \left[\begin{array}{c} x_i\\ v_i \end{array} \right] +  \left[\begin{array}{c} 0\\ 1 \end{array} \right]u_i. \]

In reality, it is not possible to instantaneously set the desired acceleration, due to servo-loop dynamics and delayed reaction from the driver. Instead, as in \cite{Peng}, the acceleration has the following dynamics:
\[\dddot{x}_i = \frac{1}{\tau}(u_i - \ddot{x}_i)\]

In this paper, we will focus on {\em string stability}.

% describe the algorithmic approach you selected and why
\section{Algorithmic Approach}

LQR cost doesn't really handle rewarding high velocity. SGD can do any objective function.

\section{Results}

\subsection{Circular Topology}

\paragraph{No delay} Traffic eventually smooths out by itself but it takes a very long time. Adding active cars dramatically reduces the time it takes to smooth out traffic. 

Using LQR: Because the LQR objective prescribes a desired distance between cars, and cars will naturally want to spread out evenly over the whole circle, the active cars end up picking up the ``slack'' in order to make all the distances add up to the circumference of the circle. (This is not the whole story. When the circumference is less than the total sum of the desired spacings, LQR optimizes for cars having the same velocity and takes a penalty on desired distances.)

An interesting observation is that with a small number of active cars, this act of picking up slack can make the distances in front of the active cars oscillate, leading to negative distances. As more active cars are added, each individual car is less burdened with making the distances sum to the cirucmference, and no distances ever become negative.

\paragraph{Delay}




Linear Topology


% list any surprises / difficulties that you encountered (so that we can all learn from them)
\section{Discussion}  

The qualitative behavior of traffic models is difficult to understand. Some models seem to form shocks and rarefactions and others seem to not. It is difficult to tell whether this is due to the parameter setting or an inherent limitation in the model.

Aw Rascle model seems more aggressive. It is also nonlinear. Hence shocks?

Numerical Instability (preventing collisios but not updating velocities and accelerations to 0). Leads to NaN scores for sgd.

Need small deltas for sgd for small ks.

Need more clever penalty function, since cars can be | o o o o o o o o o           o o o | (good, but high penalty because of gap) or | o ooo o o ooo o oo o o o ooo oo  oo| (bad but good penalty becase of no gap)

How to handle infinite cost for SGD. For example, if we have a 1/avgvelocity term in the cost function and all the cars stop, the cost will be infinite. The cars will all stop in finite time if the active gains are set to zero.

Integrating the total cost over time might not be the best thing to do. What we want is the cost in the long run. Otherwise, systems that smooth out can often do far worse overall than systems that don't.

\end{multicols}

\end{document}
